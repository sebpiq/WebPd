<!DOCTYPE HTML>
<html>
<head>
    <title>WebPd's magically automated tests</title>
    <link rel="stylesheet" href="lib/qunit.css" type="text/css" media="screen" />
    <script src="lib/jquery-1.7.1.js"></script>
    <script src="lib/qunit.js"></script>
    <script>
    QUnit.config.reorder = false;
    </script>
    <script src="../dist/webpd-latest.js"></script>
    <script>
        Pd.debugMode = true;

        // Dummy AudioContext for testing
        window.AudioContext = function() {}
        window.AudioContext.prototype.createScriptProcessor = function() { return {} }

        /******************** some test utilities ************************/

        // turns an array or Float32 into an array
        var toArray = function(arrayish) {
            var array = [];
            for (var i=0; i<arrayish.length; i++) array[i] = arrayish[i];
            return array;
        };

        // round a number to a given number of decimal places
        var round = function(num, dec) {
            dec = dec || 4;
            var f = Math.pow(10, dec);
            return Math.round(num * f) / f;
        }

        // apply round to all elements of an array
        var roundArray = function(array, dec) {
            var roundedArray = [];
            for (var i=0; i<array.length; i++) roundedArray[i] = round(array[i], dec);
            return roundedArray;
        };
    </script>

    <script src="main.js"></script>
    <script src="patch.js"></script>
    <script src="portlets.js"></script>
    <script src="objectbase.js"></script>
    <script src="objects.js"></script>
    <script src="compat.js"></script>
</head>
<body>
    <h1 id="qunit-header">WebPd's magically automated tests</h1>
    <div id="qunit-testrunner-toolbar"></div>
    <h2 id="qunit-banner"></h2>
    <h2 id="qunit-userAgent"></h2>
    <ol id="qunit-tests"></ol>
</body>
</html>
